(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var pull=require("pull-stream"),delay=require("pull-delay"),start=require("../"),main=document.querySelector("main"),app={init:function(){return{model:0,effect:"SCHEDULE_TICK"}},update:function(e,t){switch(t){case"TICK":return{model:59===e?0:e+1,effect:"SCHEDULE_TICK"};default:return{model:e}}},view:function(e,t){var r=document.createElement("div");return r.textContent="Seconds Elapsed: "+e,r},run:function(e){switch(e){case"SCHEDULE_TICK":return pull(pull.values(["TICK"]),delay(1e3))}}},streams=start(app);streams.watchView(function(e){main.innerHTML=e.outerHTML});
},{"../":2,"pull-delay":10,"pull-stream":16}],2:[function(require,module,exports){
(function (process){
function start(t){var e,r=Event(),e=getStreams(t,r);return e.onNextEvent(function(t){process.nextTick(function(){r.broadcast(t)})}),e}function getStreams(t,e){function r(t){e.broadcast(t)}var n=e.listen,a=t.init(),u=Observ(a);n(function(e){var r=u(),n=t.update(r.model,e);u.set(n)});var i=computed([u],function(t){return t.model}),c=computed([i],function(e){var n=t.view(e,r);return n}),o=computed([u],function(t){return t.effect}),l=Event();return watch(o,function(e){null!=e&&pull(t.run(e,n),drain(function(t){null!=t&&l.broadcast(t)}))}),{onEvent:e.listen,onNextEvent:l.listen,watchModel:ap.partial(watch,i),watchView:ap.partial(watch,c),watchEffect:ap.partial(watch,o)}}var Event=require("geval/event"),Observ=require("observ"),computed=require("observ/computed"),watch=require("observ/watch"),ap=require("ap"),pull=require("pull-stream/pull"),drain=require("pull-stream/sinks").drain;module.exports=start;

}).call(this,require('_process'))
},{"_process":8,"ap":3,"geval/event":4,"observ":6,"observ/computed":5,"observ/watch":7,"pull-stream/pull":17,"pull-stream/sinks":18}],3:[function(require,module,exports){
function ap(r,a){return function(){var t=[].slice.call(arguments),p=r.slice();return p.push.apply(p,t),a.apply(this,p)}}function pa(r,a){return function(){var t=[].slice.call(arguments);return t.push.apply(t,r),a.apply(this,t)}}function apa(r,a,t){return function(){return t.apply(this,r.concat.apply(r,arguments).concat(a))}}function partial(r){var a=[].slice.call(arguments,1);return ap(a,r)}function partialRight(r){var a=[].slice.call(arguments,1);return pa(a,r)}function curry(r){return partial(partial,r)}exports=module.exports=ap,exports.pa=pa,exports.apa=apa,exports.partial=partial,exports.partialRight=partialRight,exports.curry=curry,exports.curryRight=function(r){return partial(partialRight,r)};

},{}],4:[function(require,module,exports){
function Event(){function n(n){for(var t=0;t<e.length;t++)e[t](n)}function t(n){function t(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}return e.push(n),t}var e=[];return{broadcast:n,listen:t}}module.exports=Event;

},{}],5:[function(require,module,exports){
function computed(e,n){var r=e.map(function(e){return e()}),u=Observable(n.apply(null,r));return e.forEach(function(e,t){e(function(e){r[t]=e,u.set(n.apply(null,r))})}),u}var Observable=require("./index.js");module.exports=computed;

},{"./index.js":6}],6:[function(require,module,exports){
function Observable(n){function e(e){return e?(u.push(e),function(){u.splice(u.indexOf(e),1)}):n}var u=[];return n=void 0===n?null:n,e.set=function(e){n=e,u.forEach(function(n){n(e)})},e}module.exports=Observable;

},{}],7:[function(require,module,exports){
function watch(t,r){var a=t(r);return r(t()),a}module.exports=watch;

},{}],8:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],9:[function(require,module,exports){
function addPipe(n){return"function"!=typeof n?n:(n.pipe=n.pipe||function(r){if("function"!=typeof r&&"function"!=typeof r.sink)throw new Error("must pipe to reader");var t=addPipe(r.sink?r.sink(n):r(n));return r.source||t},n.type="Source",n)}exports.id=function(n){return n},exports.prop=function(n){if("string"==typeof n){var r=n;return function(n){return n[r]}}return n},exports.tester=function(n){return n?"object"==typeof n&&"function"==typeof n.test?n.test.bind(n):exports.prop(n)||exports.id:exports.id},exports.addPipe=addPipe;var Source=exports.Source=function(n){function r(){var r=[].slice.call(arguments);return addPipe(n.apply(null,r))}return r.type="Source",r},Through=exports.Through=function(n){return function(){function r(r){for(t.unshift(r),r=n.apply(null,t);e.length;)r=e.shift()(r);return r}var t=[].slice.call(arguments),e=[];return r.pipe=function(n){if(e.push(n),"Source"===n.type)throw new Error("cannot pipe "+r.type+" to Source");return r.type="Sink"===n.type?"Sink":"Through",r},r.type="Through",r}},Sink=exports.Sink=function(n){return function(){function r(r){return t.unshift(r),n.apply(null,t)}var t=[].slice.call(arguments);if(!n)throw new Error("must be createReader function");return r.type="Sink",r}};exports.maybeSink=exports.maybeDrain=function(n,r){return r?Sink(function(t){return n(r)(t)})():Through(function(r){var t;return function(e,o){return e?r(e,o):t?o(t):void n(function(n,r){t=n||!0,n?o(t):o(null,r)})(r)}})()};

},{}],10:[function(require,module,exports){
var pull=require("pull-stream");module.exports=function(u){var l=pull.asyncMap(function(l,n){setTimeout(function(){n(null,l)},u)});return l};

},{"pull-stream":11}],11:[function(require,module,exports){
function isFunction(r){return"function"==typeof r}function isReader(r){return r&&("Through"===r.type||1===r.length)}var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs"),u=require("pull-core"),exports=module.exports=function r(){function e(){var r=u.shift();return null==r?e():isFunction(r)?r:function(e){return r.sink(e),r.source}}var u=[].slice.call(arguments);if(isReader(u[0]))return function(e){return u.unshift(e),r.apply(null,u)};var o=u.shift();for(isFunction(o.source)&&(o=o.source);u.length;)o=e()(o);return o};for(var k in sources)exports[k]=u.Source(sources[k]);for(var k in throughs)exports[k]=u.Through(throughs[k]);for(var k in sinks)exports[k]=u.Sink(sinks[k]);var maybe=require("./maybe")(exports);for(var k in maybe)exports[k]=maybe[k];exports.Duplex=exports.Through=exports.pipeable=u.Through,exports.Source=exports.pipeableSource=u.Source,exports.Sink=exports.pipeableSink=u.Sink;

},{"./maybe":12,"./sinks":13,"./sources":14,"./throughs":15,"pull-core":9}],12:[function(require,module,exports){
var u=require("pull-core"),prop=u.prop,id=u.id,maybeSink=u.maybeSink;module.exports=function(n){var r={},u=n.drain,t=(r.find=function(n,r){return maybeSink(function(r){var t=!1;return r?n=prop(n)||id:(r=n,n=id),u(function(u){return n(u)?(t=!0,r(null,u),!1):void 0},function(n){t||r(n===!0?null:n,null)})},r)},r.reduce=function(n,r,t){return maybeSink(function(t){return u(function(u){r=n(r,u)},function(n){t(n,r)})},t)});r.collect=r.writeArray=function(n){return t(function(n,r){return n.push(r),n},[],n)},r.concat=function(n){return t(function(n,r){return n+r},"",n)};return r};

},{"pull-core":9}],13:[function(require,module,exports){
var drain=exports.drain=function(n,o,r){!function i(){for(var t=!0,u=!1;t;)if(u=!1,n(null,function(f,l){if(u=!0,f){if(t=!1,r)r(f===!0?null:f);else if(f&&f!==!0)throw f}else o&&!1===o(l)?(t=!1,n(!0,r||function(){})):t||i()}),!u)return void(t=!1)}()},onEnd=exports.onEnd=function(n,o){return drain(n,null,o)},log=exports.log=function(n,o){return drain(n,function(n){console.log(n)},o)};

},{}],14:[function(require,module,exports){
function abortCb(n,r,t){n(r),t&&t(r===!0?null:r)}var keys=exports.keys=function(n){return values(Object.keys(n))},once=exports.once=function(n,r){return function(t,e){if(t)return abortCb(e,t,r);if(null!=n){var u=n;n=null,e(null,u)}else e(!0)}},values=exports.values=exports.readArray=function(n,r){if(!n)return function(n,t){return n?abortCb(t,n,r):t(!0)};Array.isArray(n)||(n=Object.keys(n).map(function(r){return n[r]}));var t=0;return function(e,u){return e?abortCb(u,e,r):void u(t>=n.length||null,n[t++])}},count=exports.count=function(n){var r=0;return n=n||1/0,function(t,e){return t?e&&e(t):r>n?e(!0):void e(null,r++)}},infinite=exports.infinite=function(n){return n=n||Math.random,function(r,t){return r?t&&t(r):t(null,n())}},defer=exports.defer=function(){var n,r,t=[],e=function(e,u){n?n(e,u):(r=e,t.push(u))};return e.resolve=function(e){if(n)throw new Error("already resolved");if(n=e,!n)throw new Error("no read cannot resolve!"+n);for(;t.length;)n(r,t.shift())},e.abort=function(n){e.resolve(function(r,t){t(n||!0)})},e},empty=exports.empty=function(){return function(n,r){r(!0)}},error=exports.error=function(n){return function(r,t){t(n)}},depthFirst=exports.depthFirst=function(n,r){var t=[];return t.unshift(once(n)),function e(n,u){return t.length?void t[0](n,function(n,o){return n?(t.shift(),e(null,u)):(t.unshift(r(o)),void u(n,o))}):u(!0)}},widthFirst=exports.widthFirst=function(n,r){var t=[];return t.push(once(n)),function e(n,u){return t.length?void t[0](n,function(n,o){return n?(t.shift(),e(null,u)):(t.push(r(o)),void u(n,o))}):u(!0)}},leafFirst=exports.leafFirst=function(n,r){var t=[],e=[];return t.push(once(n)),function u(n,o){t[0](n,function(n,i){return n?(t.shift(),e.length?o(null,e.shift()):o(!0)):(t.unshift(r(i)),e.unshift(i),void u(null,o))})}};

},{}],15:[function(require,module,exports){
(function (process){
var u=require("pull-core"),sources=require("./sources"),sinks=require("./sinks"),prop=u.prop,id=u.id,tester=u.tester,map=exports.map=function(n,t){return t=prop(t)||id,function(r,u){n(r,function(r,e){try{e=r?null:t(e)}catch(i){return n(i,function(){return u(i)})}u(r,e)})}},asyncMap=exports.asyncMap=function(n,t){return t?function(r,u){return r?n(r,u):void n(null,function(n,r){return n?u(n,r):void t(r,u)})}:n},paraMap=exports.paraMap=function(n,t,r){function u(){if(i){var n=i;return i=null,f.length?n(null,f.shift()):o&&!l?n(o):void(i=n)}}function e(){n(null,function(n,i){return n?(o=n,u()):(l++,t(i,function(n,t){l--,f.push(t),u()}),void(r>l&&!o&&e()))})}if(!t)return n;var i,o=!1,f=[],l=0;return function(t,r){return t?n(t,r):(i=r,void(f.length||o?(e(),u()):e()))}},filter=exports.filter=function(n,t){return t=tester(t),function r(u,e){for(var i,o=!0;o;)o=!1,i=!0,n(u,function(n,u){return n||t(u)?void e(n,u):i?o=!0:r(n,e)}),i=!1}},filterNot=exports.filterNot=function(n,t){return t=tester(t),filter(n,function(n){return!t(n)})},through=exports.through=function(n,t,r){function u(n){!e&&r&&(e=!0,r(n===!0?null:n))}var e=!1;return function(r,e){return r&&u(r),n(r,function(n,r){n?u(n):t&&t(r),e(n,r)})}},take=exports.take=function(n,t,r){function u(t){n(!0,function(n){e=!1,t(n||!0)})}r=r||{};var e=r.last||!1,i=!1;if("number"==typeof t){e=!0;var o=t;t=function(){return--o}}return function(r,o){i?e?u(o):o(i):(i=r)?n(i,o):n(null,function(n,r){(i=i||n)?o(i):t(r)?o(null,r):(i=!0,e?o(null,r):u(o))})}},unique=exports.unique=function(n,t,r){t=prop(t)||id;var u={};return filter(n,function(n){var e=t(n);return u[e]?!!r:(u[e]=!0,!r)})},nonUnique=exports.nonUnique=function(n,t){return unique(n,t,!0)},group=exports.group=function(n,t){var r;t=t||5;var u=[];return function(e,i){return e?n(r=e,i):r?i(r):void n(null,function o(e,f){if(r=r||e){if(!u.length)return i(r);var l=u;return u=[],i(null,l)}if(u.push(f),u.length<t)return n(null,o);var l=u;u=[],i(null,l)})}},flatten=exports.flatten=function(n){var t;return function(r,u){function e(){t(null,function(t,r){t===!0?i():t?n(!0,function(n){u(t)}):u(null,r)})}function i(){n(null,function(n,r){if(n)return u(n);if(Array.isArray(r)||r&&"object"==typeof r)r=sources.values(r);else if("function"!=typeof r)throw new Error("expected stream of streams");t=r,e()})}r?t?t(r,function(t){n(t||r,u)}):n(r,u):t?e():i()}},prepend=exports.prepend=function(n,t){return function(r,u){if(null!==t){if(r)return n(r,u);var e=t;t=null,u(null,e)}else n(r,u)}},_reduce=exports._reduce=function(n,t,r){return function(u,e){return u?n(u,e):ended?e(ended):void sinks.drain(function(n){r=t(r,n)},function(n,t){ended=n||!0,n?e(ended):e(null,r)})(n)}},nextTick=process.nextTick,highWaterMark=exports.highWaterMark=function(n,t){function r(){for(;f.length&&(o.length||e);)f.shift()(e,e?null:o.shift());!o.length&&i&&(e=i)}function u(){return e||i||l||o.length>=t?void 0:(l=!0,n(e||i,function(n,t){l=!1,i=i||n,null!=t&&o.push(t),u(),r()}))}var e,i,o=[],f=[],l=!1;return t=t||10,process.nextTick(u),function(n,t){e=e||n,f.push(t),u(),r()}},flatMap=exports.flatMap=function(n,t){t=t||id;var r,u=[];return function(e,i){return u.length?i(null,u.shift()):r?i(r):void n(e,function o(e,f){if(e)r=e;else for(var l=t(f);l&&l.length;)u.push(l.shift());u.length?i(null,u.shift()):r?i(r):n(null,o)})}};

}).call(this,require('_process'))
},{"./sinks":13,"./sources":14,"_process":8,"pull-core":9}],16:[function(require,module,exports){
var sources=require("./sources"),sinks=require("./sinks"),throughs=require("./throughs");exports=module.exports=require("./pull");for(var k in sources)exports[k]=sources[k];for(var k in throughs)exports[k]=throughs[k];for(var k in sinks)exports[k]=sinks[k];

},{"./pull":17,"./sinks":18,"./sources":19,"./throughs":20}],17:[function(require,module,exports){
module.exports=function n(r){var o=arguments.length;if("function"==typeof r&&1===r.length){for(var t=new Array(o),e=0;o>e;e++)t[e]=arguments[e];return function(r){return t.unshift(r),n.apply(null,t)}}var u=r;u&&"function"==typeof u.source&&(u=u.source);for(var e=1;o>e;e++){var f=arguments[e];"function"==typeof f?u=f(u):f&&"object"==typeof f&&(f.sink(u),u=f.source)}return u};

},{}],18:[function(require,module,exports){
"use strict";function id(n){return n}function prop(n){return"string"==typeof n?function(t){return t[n]}:n&&"object"==typeof n&&"function"==typeof n.exec?function(n){var t=map.exec(n);return t&&t[0]}:n||id}var drain=exports.drain=function(n,t){function r(e){return o=e,u?r.abort():void function i(){for(var r=!0,e=!1;r;)if(e=!1,o(null,function(c,f){if(e=!0,c=c||u){if(r=!1,t)t(c===!0?null:c);else if(c&&c!==!0)throw c}else n&&!1===n(f)||u?(r=!1,o(u||!0,t||function(){})):r||i()}),!e)return void(r=!1)}()}var o,u;return r.abort=function(n,t){return"function"==typeof n&&(t=n,n=!0),u=n||!0,o?o(u,t||function(){}):void 0},r},onEnd=exports.onEnd=function(n){return drain(null,n)},log=exports.log=function(n){return drain(function(n){console.log(n)},n)},find=exports.find=function(n,t){var r=!1;return t?n=prop(n)||id:(t=n,n=id),drain(function(o){return n(o)?(r=!0,t(null,o),!1):void 0},function(n){r||t(n===!0?null:n,null)})},reduce=exports.reduce=function(n,t,r){return drain(function(r){t=n(t,r)},function(n){r(n,t)})},collect=exports.collect=function(n){return reduce(function(n,t){return n.push(t),n},[],n)},concat=exports.concat=function(n){return reduce(function(n,t){return n+t},"",n)};

},{}],19:[function(require,module,exports){
function abortCb(n,r,t){n(r),t&&t(r===!0?null:r)}var keys=exports.keys=function(n){return values(Object.keys(n))},once=exports.once=function(n,r){return function(t,e){if(t)return abortCb(e,t,r);if(null!=n){var u=n;n=null,e(null,u)}else e(!0)}},values=exports.values=exports.readArray=function(n,r){if(!n)return function(n,t){return n?abortCb(t,n,r):t(!0)};Array.isArray(n)||(n=Object.keys(n).map(function(r){return n[r]}));var t=0;return function(e,u){return e?abortCb(u,e,r):void u(t>=n.length||null,n[t++])}},count=exports.count=function(n){var r=0;return n=n||1/0,function(t,e){return t?e&&e(t):r>n?e(!0):void e(null,r++)}},infinite=exports.infinite=function(n){return n=n||Math.random,function(r,t){return r?t&&t(r):t(null,n())}},empty=exports.empty=function(){return function(n,r){r(!0)}},error=exports.error=function(n){return function(r,t){t(n)}};

},{}],20:[function(require,module,exports){
"use strict";function id(n){return n}function prop(n){return"string"==typeof n?function(t){return t[n]}:"object"==typeof n&&"function"==typeof n.exec?function(n){var t=map.exec(n);return t&&t[0]}:n}function tester(n){return"object"==typeof n&&"function"==typeof n.test?function(t){return n.test(t)}:prop(n)||id}var sources=require("./sources"),sinks=require("./sinks"),map=exports.map=function(n){return n?(n=prop(n),function(t){return function(r,u){t(r,function(r,e){try{e=r?null:n(e)}catch(o){return t(o,function(){return u(o)})}u(r,e)})}}):id},asyncMap=exports.asyncMap=function(n){if(!n)return id;n=prop(n);var t,r,u=!1;return function(e){return function o(i,f){return r?f(r):void(i?(r=i,u?e(i,function(){u?t=f:f(i)}):e(i,f)):e(null,function(e,i){e?f(e):r?f(r):(u=!0,n(i,function(n,e){u=!1,r?(f(r),t(r)):n?o(n,f):f(null,e)}))}))}}},filter=exports.filter=function(n){return n=tester(n),function(t){return function r(u,e){for(var o,i=!0;i;)i=!1,o=!0,t(u,function(t,u){return t||n(u)?void e(t,u):o?i=!0:r(t,e)}),o=!1}}},filterNot=exports.filterNot=function(n){return n=tester(n),filter(function(t){return!n(t)})},through=exports.through=function(n,t){function r(n){!u&&t&&(u=!0,t(n===!0?null:n))}var u=!1;return function(t){return function(u,e){return u&&r(u),t(u,function(t,u){t?r(t):n&&n(u),e(t,u)})}}},take=exports.take=function(n,t){t=t||{};var r=t.last||!1,u=!1;if("number"==typeof n){r=!0;var e=n;n=function(){return--e}}return function(t){function e(n){t(!0,function(t){r=!1,n(t||!0)})}return function(o,i){u?r?e(i):i(u):(u=o)?t(u,i):t(null,function(t,o){(u=u||t)?i(u):n(o)?i(null,o):(u=!0,r?i(null,o):e(i))})}}},unique=exports.unique=function(n,t){n=prop(n)||id;var r={};return filter(function(u){var e=n(u);return r[e]?!!t:(r[e]=!0,!t)})},nonUnique=exports.nonUnique=function(n){return unique(n,!0)},flatten=exports.flatten=function(){return function(n){var t;return function(r,u){function e(){t(null,function(t,r){t===!0?o():t?n(!0,function(n){u(t)}):u(null,r)})}function o(){t=null,n(null,function(n,r){return n?u(n):(Array.isArray(r)||r&&"object"==typeof r?r=sources.values(r):"function"!=typeof r&&(r=sources.once(r)),t=r,void e())})}r?t?t(r,function(t){n(t||r,u)}):n(r,u):t?e():o()}}};

},{"./sinks":18,"./sources":19}]},{},[1]);
